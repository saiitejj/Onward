/* --- CORE SETUP --- */
:root {
    --brand-color: #4f46e5; 
    --brand-color-transparent: rgba(79, 70, 229, 0.5);
}

/* Container to ensure it sits on top of everything */
.intro-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background-color: #ffffff; /* CHANGED: Black to White */
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 9999; /* Always on top */
    overflow: hidden;
}

/* --- THE LETTER CONTAINER --- */
.netflix-intro {
    display: block;
    position: relative;
    width: 300px;
    height: 300px;
    overflow: hidden;
    /* Combined animations: Zoom + Directional Fade */
    animation: zoom-in 3.5s 0.5s ease-in forwards, 
               fade-out-direction 3.5s 0.5s ease-in forwards;
}

/* The O Shape Logic */
.netflix-intro[data-letter="O"] .helper-1 {
    width: 100%;
    height: 100%;
    position: absolute;
    left: 0;
    top: 0;
    background-color: var(--brand-color-transparent);
    
    /* --- "O" RING SHAPE MASK --- */
    /* Note: In masks, 'black' means opaque (visible), 'transparent' means invisible. 
       So we keep 'black' here even on a white background. */
    -webkit-mask: radial-gradient(transparent 45%, black 46%, black 69%, transparent 70%);
    mask: radial-gradient(transparent 45%, black 46%, black 69%, transparent 70%);
    
    /* Fade out the background color fill slightly earlier */
    animation: fading-lumieres-box 2s 0.6s forwards;
}

/* --- BRUSH EFFECT --- */
.effect-brush {
    position: absolute;
    width: 100%;
    height: 300%;
    top: 0;
    overflow: hidden;
    animation: brush-moving 2.5s 1.2s forwards;
    transform: translateY(0); 
}

.effect-brush::before {
    display: block;
    content: "";
    position: absolute;
    background-color: var(--brand-color);
    width: 100%;
    height: 70%;
    box-shadow: 0px 0px 29px 24px var(--brand-color);
}

[class*="fur-"] {
    display: block;
    position: absolute;
    bottom: 10%;
    height: 30%;
}

/* Generating Fur Gradients (Indigo) */
/* CHANGED: Fading to transparent WHITE (rgba(255,255,255,0)) instead of transparent black */
.fur-1 { left: 0%; width: 3.8%; background: linear-gradient(to bottom, var(--brand-color) 0%, var(--brand-color) 15%, rgba(255,255,255,0) 81%); }
.fur-2 { left: 3.8%; width: 2.8%; background: linear-gradient(to bottom, var(--brand-color) 0%, var(--brand-color) 10%, rgba(255,255,255,0) 62%); }
.fur-3 { left: 6.6%; width: 4.8%; background: linear-gradient(to bottom, var(--brand-color) 0%, var(--brand-color) 37%, rgba(255,255,255,0) 100%); }
.fur-4 { left: 11.4%; width: 4%; background: linear-gradient(to bottom, var(--brand-color) 0%, var(--brand-color) 23%, rgba(255,255,255,0) 100%); }
.fur-5 { left: 15.4%; width: 4%; background: linear-gradient(to bottom, var(--brand-color) 0%, var(--brand-color) 15%, rgba(255,255,255,0) 86%); }
.fur-6 { left: 19.4%; width: 2.5%; background: linear-gradient(to bottom, var(--brand-color) 0%, var(--brand-color) 27%, rgba(255,255,255,0) 89%); }
.fur-7 { left: 21.9%; width: 4%; background: linear-gradient(to bottom, var(--brand-color) 0%, var(--brand-color) 20%, rgba(255,255,255,0) 100%); }
.fur-8 { left: 25.9%; width: 2%; background: linear-gradient(to bottom, var(--brand-color) 0%, var(--brand-color) 30%, rgba(255,255,255,0) 100%); }
.fur-9 { left: 27.9%; width: 4%; background: linear-gradient(to bottom, var(--brand-color) 0%, var(--brand-color) 35%, rgba(255,255,255,0) 95%); }
.fur-10 { left: 31.9%; width: 3.5%; background: linear-gradient(to bottom, var(--brand-color) 0%, var(--brand-color) 39%, rgba(255,255,255,0) 95%); }
.fur-11 { left: 35.4%; width: 2%; background: linear-gradient(to bottom, var(--brand-color) 0%, var(--brand-color) 34%, rgba(255,255,255,0) 95%); }
.fur-12 { left: 37.4%; width: 2.6%; background: linear-gradient(to bottom, var(--brand-color) 0%, var(--brand-color) 22%, rgba(255,255,255,0) 95%); }
.fur-13 { left: 40%; width: 6%; background: linear-gradient(to bottom, var(--brand-color) 0%, var(--brand-color) 47%, rgba(255,255,255,0) 100%); }
.fur-14 { left: 46%; width: 2%; background: linear-gradient(to bottom, var(--brand-color) 0%, var(--brand-color) 36%, rgba(255,255,255,0) 100%); }
.fur-15 { left: 48%; width: 5.5%; background: linear-gradient(to bottom, var(--brand-color) 0%, var(--brand-color) 29%, rgba(255,255,255,0) 100%); }
.fur-16 { left: 53.5%; width: 3%; background: linear-gradient(to bottom, var(--brand-color) 0%, var(--brand-color) 39%, rgba(255,255,255,0) 95%); }
.fur-17 { left: 56.5%; width: 4.1%; background: linear-gradient(to bottom, var(--brand-color) 0%, var(--brand-color) 45%, rgba(255,255,255,0) 100%); }
.fur-18 { left: 60.6%; width: 2.4%; background: linear-gradient(to bottom, var(--brand-color) 0%, var(--brand-color) 34%, rgba(255,255,255,0) 100%); }
.fur-19 { left: 63%; width: 4%; background: linear-gradient(to bottom, var(--brand-color) 0%, var(--brand-color) 47%, rgba(255,255,255,0) 100%); }
.fur-20 { left: 67%; width: 1.5%; background: linear-gradient(to bottom, var(--brand-color) 0%, var(--brand-color) 27%, rgba(255,255,255,0) 95%); }
.fur-21 { left: 68.5%; width: 2.8%; background: linear-gradient(to bottom, var(--brand-color) 0%, var(--brand-color) 37%, rgba(255,255,255,0) 100%); }
.fur-22 { left: 71.3%; width: 2.3%; background: linear-gradient(to bottom, var(--brand-color) 0%, var(--brand-color) 9%, rgba(255,255,255,0) 100%); }
.fur-23 { left: 73.6%; width: 2.2%; background: linear-gradient(to bottom, var(--brand-color) 0%, var(--brand-color) 28%, rgba(255,255,255,0) 92%); }
.fur-24 { left: 75.8%; width: 1%; background: linear-gradient(to bottom, var(--brand-color) 0%, var(--brand-color) 37%, rgba(255,255,255,0) 100%); }
.fur-25 { left: 76.8%; width: 2.1%; background: linear-gradient(to bottom, var(--brand-color) 0%, var(--brand-color) 28%, rgba(255,255,255,0) 100%); }
.fur-26 { left: 78.9%; width: 4.1%; background: linear-gradient(to bottom, var(--brand-color) 0%, var(--brand-color) 34%, rgba(255,255,255,0) 100%); }
.fur-27 { left: 83%; width: 2.5%; background: linear-gradient(to bottom, var(--brand-color) 0%, var(--brand-color) 21%, rgba(255,255,255,0) 100%); }
.fur-28 { left: 85.5%; width: 4.5%; background: linear-gradient(to bottom, var(--brand-color) 0%, var(--brand-color) 39%, rgba(255,255,255,0) 100%); }
.fur-29 { left: 90%; width: 2.8%; background: linear-gradient(to bottom, var(--brand-color) 0%, var(--brand-color) 30%, rgba(255,255,255,0) 100%); }
.fur-30 { left: 92.8%; width: 3.5%; background: linear-gradient(to bottom, var(--brand-color) 0%, var(--brand-color) 19%, rgba(255,255,255,0) 100%); }
.fur-31 { left: 96.3%; width: 3.7%; background: linear-gradient(to bottom, var(--brand-color) 0%, var(--brand-color) 37%, rgba(255,255,255,0) 100%); }

/* --- LIGHTS/SPARKLES (Lumieres) --- */
.effect-lumieres {
    position: absolute;
    width: 100%;
    height: 100%;
    opacity: 0;
    animation: showing-lumieres 2s 1.6s forwards;
}

[class*="lamp-"] {
    position: absolute;
    display: block;
    height: 100%;
    /* Indigo Glow */
    box-shadow: 0px 0px 10px 0px rgba(79, 70, 229, 0.75); 
    background: var(--color);
}
[class*="lamp-"]::before {
    position: absolute;
    content: " ";
    display: block;
    width: 100%;
    height: 100%;
    background: var(--color);
    box-shadow: 0px 0px 10px 0px rgba(79, 70, 229, 0.75);
}

/* Sparkle colors */
.lamp-1 { --color: #4f46e5; left: 0.7%; width: 1%; animation-delay: 1s; }
.lamp-2 { --color: #6366f1; left: 2.2%; width: 1.4%; animation-delay: 0.5s; }
.lamp-3 { --color: #ffffff; left: 5.8%; width: 2.1%; animation-delay: 1.5s; }
/* ... (rest of lamps) ... */
.lamp-4 { --color: #818cf8; left: 10.1%; width: 2%; animation-delay: 0.8s; }
.lamp-5 { --color: #4f46e5; left: 12.9%; width: 1.4%; animation-delay: 1.2s; }
.lamp-6 { --color: #c7d2fe; left: 15.3%; width: 2.8%; animation-delay: 0.4s; }
.lamp-7 { --color: #3730a3; left: 21.2%; width: 2.5%; animation-delay: 0.9s; }
.lamp-8 { --color: #a5b4fc; left: 25%; width: 2.5%; animation-delay: 1.1s; }
.lamp-9 { --color: #4f46e5; left: 30.5%; width: 3%; animation-delay: 0.7s; }
.lamp-10 { --color: #ffffff; left: 36.3%; width: 3%; animation-delay: 1.3s; }
.lamp-11 { --color: #818cf8; left: 41%; width: 2.2%; animation-delay: 0.6s; }
.lamp-12 { --color: #6366f1; left: 44.2%; width: 2.6%; animation-delay: 1.4s; }
.lamp-13 { --color: #4f46e5; left: 51.7%; width: 0.5%; animation-delay: 0.3s; }
.lamp-14 { --color: #4f46e5; left: 52.1%; width: 1.8%; animation-delay: 1.6s; }
.lamp-15 { --color: #ffffff; left: 53.8%; width: 2.3%; animation-delay: 0.8s; }
.lamp-16 { --color: #c7d2fe; left: 57.2%; width: 2%; animation-delay: 0.5s; }
.lamp-17 { --color: #312e81; left: 62.3%; width: 2.9%; animation-delay: 1.0s; }
.lamp-18 { --color: #818cf8; left: 65.8%; width: 1.7%; animation-delay: 0.7s; }
.lamp-19 { --color: #a5b4fc; left: 72.8%; width: 0.8%; animation-delay: 1.2s; }
.lamp-20 { --color: #4f46e5; left: 74.3%; width: 2%; animation-delay: 0.4s; }
.lamp-21 { --color: #6366f1; left: 79.8%; width: 2%; animation-delay: 1.5s; }
.lamp-22 { --color: #ffffff; left: 78.2%; width: 2%; animation-delay: 0.9s; }
.lamp-23 { --color: #4f46e5; left: 78.5%; width: 2%; animation-delay: 0.6s; }
.lamp-24 { --color: #c7d2fe; left: 85.3%; width: 1.1%; animation-delay: 1.3s; }
.lamp-25 { --color: #4f46e5; left: 86.9%; width: 1.1%; animation-delay: 0.8s; }
.lamp-26 { --color: #818cf8; left: 88.8%; width: 2%; animation-delay: 1.1s; }
.lamp-27 { --color: #312e81; left: 92.4%; width: 2.4%; animation-delay: 0.5s; }
.lamp-28 { --color: #ffffff; left: 96.2%; width: 2.1%; animation-delay: 1.4s; }

/* Animation Assignments for Lamps */
[class*="lamp-"] {
    animation-name: lumieres-moving-left;
    animation-duration: 5s;
    animation-fill-mode: forwards;
}
[class*="lamp-"]::before {
    animation-name: lumieres-moving-left;
    animation-duration: 5.5s;
    animation-fill-mode: forwards;
}

/* --- KEYFRAMES --- */
@keyframes brush-moving {
    0% { transform: translateY(0); }
    100% { transform: translateY(-100%); }
}

@keyframes lumieres-moving-left {
    0% { transform: translate(0); }
    40% { transform: translate(10px) scaleX(1); }
    50% { transform: translate(60px); }
    100% { transform: translate(120px) scaleX(3); }
}

@keyframes zoom-in {
    0% { transform: scale(1); }
    100% { transform: scale(15); }
}

@keyframes showing-lumieres {
    0% { opacity: 0; }
    100% { opacity: 1; }
}

@keyframes fading-lumieres-box {
    0% { background-color: var(--brand-color-transparent); }
    100% { background-color: rgba(79, 70, 229, 0); }
}

/* --- NEW ANIMATION: Directional Fade Out --- */
@keyframes fade-out-direction {
    0% { 
        opacity: 1; 
        transform: translateY(0) scale(1); 
    }
    80% { 
        opacity: 1; 
    }
    100% { 
        opacity: 0; 
        transform: translateY(-20px) scale(15); 
    }
}